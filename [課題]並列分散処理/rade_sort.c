#include  <stdio.h>#include <stdlib.h>#include <math.h>#include "MT.h"#include <time.h>void RadixSort(int x[ ], int n, int r);void ShowData(unsigned long x[ ], int n);int main(void);#define NUM_DATA 60000#define M 2#define MASK 1    /* 4bitを取り出すためのマスク */void ShowData(unsigned long x[ ], int n){    int i;    for (i = 0; i < n ; i++)        printf("%ld\n", x[i]);}void ShowData2(int x[ ], int n){    int i;    for (i = 0; i < n ; i++)        printf("%d\n", x[i]);}int array_add(unsigned long array[], unsigned long add){int e_size = 0;array[e_size] = add;e_size = e_size + 1;return e_size;}int bitcount(unsigned long n){    n = n - ((n >> 1) & 033333333333) - ((n >> 2) & 011111111111);    return ((n + (n >> 3)) & 030707070707) % 077 +10;}int bit_max(unsigned long n[ ]){	int i,max=0;	for(i=0;i<NUM_DATA;i++){		if(bitcount(n[i])>max){			max=bitcount(n[i]);		}	}	return max;}voidradix_sort(unsigned long array[], unsigned int size){    int i, bit;     int count[NUM_DATA];     unsigned int buf[NUM_DATA];    for(bit = 0; bit < bit_max(array); bit += 1){         /* 度数分布を求める */        for(i = 0; i < 16; ++i) count[i] = 0; 		for(i = 0; i < size; ++i) ++count[(array[i] >> bit) & MASK];		for(i = 1; i < 16; ++i) count[i] += count[i-1]; 		//ShowData2(count, NUM_DATA);        /* 度数分布に従ってデータを整列する */        for(i = size-1; i>=0; --i){            buf[--count[(array[i] >> bit) & MASK]] = array[i];         }        for(i=0; i<size; ++i) array[i] = buf[i]; 					} 	//ShowData(array, NUM_DATA);}int main(void){      /* ソートするデータ */	/* 乱数生成 */	clock_t start,end;	unsigned long data[NUM_DATA];	int i,bit,max_b;	int count[NUM_DATA];	init_genrand(10);	for(i=0;i<NUM_DATA;i++){  		data[i]=genrand_int32();	}	//printf("%ld",sizeof(data)/4);	//ShowData(data, NUM_DATA);	start = clock();	radix_sort(data, (int) NUM_DATA);	ShowData(data, NUM_DATA);	end = clock();	printf("%.8f秒かかりました\n",(double)(end-start)/CLOCKS_PER_SEC);	}